{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marina\\\\Desktop\\\\Mon_Projet\\\\stock-app\\\\client\\\\src\\\\components\\\\ItemList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport StockEvolutionGraph from './StockEvolutionGraph';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemList = ({\n  refresh\n}) => {\n  _s();\n  const [items, setItems] = useState([]);\n  const [showGraphId, setShowGraphId] = useState(null);\n  useEffect(() => {\n    const fetchItems = async () => {\n      try {\n        const config = {\n          headers: {\n            'x-auth-token': localStorage.getItem('token')\n          }\n        };\n        const res = await axios.get('/api/items', config);\n        setItems(res.data);\n      } catch (err) {\n        console.error(err.response.data);\n      }\n    };\n    fetchItems();\n  }, [refresh]);\n  const onDelete = async id => {\n    try {\n      const config = {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      };\n      await axios.delete(`/api/items/${id}`, config);\n      setItems(items.filter(item => item._id !== id));\n    } catch (err) {\n      console.error(err.response.data);\n    }\n  };\n  const toggleGraph = itemId => {\n    setShowGraphId(showGraphId === itemId ? null : itemId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No items found. Add a new item above!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: item.quantity <= item.minStockThreshold ? {\n          color: 'red',\n          fontWeight: 'bold'\n        } : {},\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this), \" (Store: \", item.store.name, \", Category: \", item.category.name, \") - Price: \", item.store.currency, item.price, \", Quantity: \", item.quantity, \", Min Stock: \", item.minStockThreshold, item.quantity <= item.minStockThreshold && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: '10px',\n            color: 'red'\n          },\n          children: \"LOW STOCK!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onDelete(item._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleGraph(item._id),\n          children: showGraphId === item._id ? 'Hide Graph' : 'Show Graph'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), showGraphId === item._id && /*#__PURE__*/_jsxDEV(StockEvolutionGraph, {\n          itemId: item._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 44\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ItemList, \"tzPW6MyA/Q12LkUDsb9hij2kf1c=\");\n_c = ItemList;\nexport default ItemList;\nvar _c;\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["React","useEffect","useState","axios","StockEvolutionGraph","jsxDEV","_jsxDEV","ItemList","refresh","_s","items","setItems","showGraphId","setShowGraphId","fetchItems","config","headers","localStorage","getItem","res","get","data","err","console","error","response","onDelete","id","delete","filter","item","_id","toggleGraph","itemId","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","style","quantity","minStockThreshold","color","fontWeight","name","store","category","currency","price","marginLeft","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Marina/Desktop/Mon_Projet/stock-app/client/src/components/ItemList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport StockEvolutionGraph from './StockEvolutionGraph';\n\nconst ItemList = ({ refresh }) => {\n  const [items, setItems] = useState([]);\n  const [showGraphId, setShowGraphId] = useState(null);\n\n  useEffect(() => {\n    const fetchItems = async () => {\n      try {\n        const config = {\n          headers: {\n            'x-auth-token': localStorage.getItem('token'),\n          },\n        };\n        const res = await axios.get('/api/items', config);\n        setItems(res.data);\n      } catch (err) {\n        console.error(err.response.data);\n      }\n    };\n    fetchItems();\n  }, [refresh]);\n\n  const onDelete = async (id) => {\n    try {\n      const config = {\n        headers: {\n          'x-auth-token': localStorage.getItem('token'),\n        },\n      };\n      await axios.delete(`/api/items/${id}`, config);\n      setItems(items.filter(item => item._id !== id));\n    } catch (err) {\n      console.error(err.response.data);\n    }\n  };\n\n  const toggleGraph = (itemId) => {\n    setShowGraphId(showGraphId === itemId ? null : itemId);\n  };\n\n  return (\n    <div>\n      <h2>Your Items</h2>\n      {items.length === 0 ? (\n        <p>No items found. Add a new item above!</p>\n      ) : (\n        <ul>\n          {items.map((item) => (\n            <li\n              key={item._id}\n              style={item.quantity <= item.minStockThreshold ? { color: 'red', fontWeight: 'bold' } : {}}\n            >\n              <strong>{item.name}</strong> (Store: {item.store.name}, Category: {item.category.name}) - Price: {item.store.currency}{item.price}, Quantity: {item.quantity}, Min Stock: {item.minStockThreshold}\n              {item.quantity <= item.minStockThreshold && (\n                <span style={{ marginLeft: '10px', color: 'red' }}>LOW STOCK!</span>\n              )}\n              <button onClick={() => onDelete(item._id)}>Delete</button>\n              <button onClick={() => toggleGraph(item._id)}>\n                {showGraphId === item._id ? 'Hide Graph' : 'Show Graph'}\n              </button>\n              {showGraphId === item._id && <StockEvolutionGraph itemId={item._id} />}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default ItemList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}