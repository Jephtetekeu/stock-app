{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marina\\\\Desktop\\\\Mon_Projet\\\\stock-app\\\\client\\\\src\\\\components\\\\DashboardSummary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardSummary = () => {\n  _s();\n  const [summaryData, setSummaryData] = useState(null);\n  useEffect(() => {\n    const fetchSummary = async () => {\n      try {\n        const config = {\n          headers: {\n            'x-auth-token': localStorage.getItem('token')\n          }\n        };\n        const res = await axios.get('/api/dashboard', config);\n        setSummaryData(res.data);\n      } catch (err) {\n        console.error(err.response.data);\n      }\n    };\n    fetchSummary();\n  }, []);\n  if (!summaryData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading Dashboard Summary...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Global Dashboard Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Total Stores: \", summaryData.totalStores]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Global Order Status:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Object.entries(summaryData.globalOrderCounts).map(([status, count]) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [status, \": \", count]\n      }, status, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Global Low Stock Items:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), summaryData.globalLowStockItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No items currently at low stock globally.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: summaryData.globalLowStockItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.name, \" (Store: \", item.storeName, \") - Qty: \", item.quantity, \", Min: \", item.minStockThreshold]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Store-wise Summaries:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), summaryData.storeSummaries.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No store summaries available. Add some stores!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : summaryData.storeSummaries.map(store => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        padding: '10px',\n        margin: '10px 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [store.name, \" (\", store.currency, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Items: \", store.totalItems]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Stock Value: \", store.currency, store.totalStockValue.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Order Status for \", store.name, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: Object.entries(store.orderCounts).map(([status, count]) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [status, \": \", count]\n        }, status, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Low Stock Items in \", store.name, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), store.lowStockItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No low stock items in this store.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: store.lowStockItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.name, \" - Qty: \", item.quantity, \", Min: \", item.minStockThreshold]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }, this)]\n    }, store._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardSummary, \"ogXnjYPIREbdvQy6lIOs/Le851U=\");\n_c = DashboardSummary;\nexport default DashboardSummary;\nvar _c;\n$RefreshReg$(_c, \"DashboardSummary\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","DashboardSummary","_s","summaryData","setSummaryData","fetchSummary","config","headers","localStorage","getItem","res","get","data","err","console","error","response","children","fileName","_jsxFileName","lineNumber","columnNumber","totalStores","Object","entries","globalOrderCounts","map","status","count","globalLowStockItems","length","item","name","storeName","quantity","minStockThreshold","_id","storeSummaries","store","style","border","padding","margin","currency","totalItems","totalStockValue","toFixed","orderCounts","lowStockItems","_c","$RefreshReg$"],"sources":["C:/Users/Marina/Desktop/Mon_Projet/stock-app/client/src/components/DashboardSummary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst DashboardSummary = () => {\n  const [summaryData, setSummaryData] = useState(null);\n\n  useEffect(() => {\n    const fetchSummary = async () => {\n      try {\n        const config = {\n          headers: {\n            'x-auth-token': localStorage.getItem('token'),\n          },\n        };\n        const res = await axios.get('/api/dashboard', config);\n        setSummaryData(res.data);\n      } catch (err) {\n        console.error(err.response.data);\n      }\n    };\n    fetchSummary();\n  }, []);\n\n  if (!summaryData) {\n    return <div>Loading Dashboard Summary...</div>;\n  }\n\n  return (\n    <div>\n      <h2>Global Dashboard Summary</h2>\n      <p>Total Stores: {summaryData.totalStores}</p>\n\n      <h3>Global Order Status:</h3>\n      <ul>\n        {Object.entries(summaryData.globalOrderCounts).map(([status, count]) => (\n          <li key={status}>{status}: {count}</li>\n        ))}\n      </ul>\n\n      <h3>Global Low Stock Items:</h3>\n      {summaryData.globalLowStockItems.length === 0 ? (\n        <p>No items currently at low stock globally.</p>\n      ) : (\n        <ul>\n          {summaryData.globalLowStockItems.map((item) => (\n            <li key={item._id}>\n              {item.name} (Store: {item.storeName}) - Qty: {item.quantity}, Min: {item.minStockThreshold}\n            </li>\n          ))}\n        </ul>\n      )}\n\n      <h3>Store-wise Summaries:</h3>\n      {summaryData.storeSummaries.length === 0 ? (\n        <p>No store summaries available. Add some stores!</p>\n      ) : (\n        summaryData.storeSummaries.map((store) => (\n          <div key={store._id} style={{ border: '1px solid #ccc', padding: '10px', margin: '10px 0' }}>\n            <h4>{store.name} ({store.currency})</h4>\n            <p>Total Items: {store.totalItems}</p>\n            <p>Total Stock Value: {store.currency}{store.totalStockValue.toFixed(2)}</p>\n            <h5>Order Status for {store.name}:</h5>\n            <ul>\n              {Object.entries(store.orderCounts).map(([status, count]) => (\n                <li key={status}>{status}: {count}</li>\n              ))}\n            </ul>\n            <h5>Low Stock Items in {store.name}:</h5>\n            {store.lowStockItems.length === 0 ? (\n              <p>No low stock items in this store.</p>\n            ) : (\n              <ul>\n                {store.lowStockItems.map((item) => (\n                  <li key={item._id}>\n                    {item.name} - Qty: {item.quantity}, Min: {item.minStockThreshold}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default DashboardSummary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}